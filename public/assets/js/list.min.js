/******/ (() => { // webpackBootstrap
/*!******************************!*\
  !*** ./resources/js/list.js ***!
  \******************************/
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
// Função para alternar dropdowns (deve estar no escopo global)
function toggleDropdown(id) {
  var dropdown = document.getElementById(id);
  dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
}

// Expor a função no escopo global para uso em onclick
window.toggleDropdown = toggleDropdown;

// Mapeamento de valores para URLs amigáveis
var friendlyMappings = {
  gender: {
    'masculine': 'masculino',
    'feminine': 'feminino',
    'unisex': 'unisex',
    'kids': 'infantil'
  },
  sort: {
    'most_sold': 'mais-vendidos',
    'newest': 'novidades',
    'promotions': 'promocoes',
    'price_asc': 'preco-menor',
    'price_desc': 'preco-maior'
  },
  product_type: {
    'uniforme': 'uniforme',
    'casual': 'casual',
    'acessorios': 'acessorios'
  },
  category: {
    'Retro': 'retro',
    'torcedor': 'torcedor',
    'jogador': 'jogador',
    'treino': 'treino'
  },
  national_international: {
    'Sim': 'nacional',
    'Não': 'internacional'
  }
};

// Função para converter filtros em URL amigável
function filtersToFriendlyUrl(filters) {
  var basePath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '/camisas';
  var segments = [];

  // Time (primeiro segmento se existir)
  if (filters.team && filters.team !== '') {
    segments.push(filters.team);
  }

  // Gênero (múltiplos valores unidos por '-')
  if (filters.gender && filters.gender !== '') {
    var genders = filters.gender.split(',');
    var friendlyGenders = genders.map(function (g) {
      return friendlyMappings.gender[g.trim()];
    }).filter(function (g) {
      return g;
    });
    if (friendlyGenders.length > 0) {
      segments.push(friendlyGenders.join('-'));
    }
  }

  // Temporada (formato 23-24)
  if (filters.season && filters.season !== '') {
    segments.push(filters.season.replace('/', '-'));
  }

  // Categoria (múltiplos valores)
  if (filters.category && filters.category !== '') {
    var categories = filters.category.split(',');
    var friendlyCategories = categories.map(function (c) {
      var trimmed = c.trim();
      return friendlyMappings.category[trimmed] || trimmed.toLowerCase();
    }).filter(function (c) {
      return c;
    });
    if (friendlyCategories.length > 0) {
      segments.push(_toConsumableArray(new Set(friendlyCategories)).join('-'));
    }
  }

  // Tipo de produto
  if (filters.product_type && filters.product_type !== '') {
    segments.push(friendlyMappings.product_type[filters.product_type] || filters.product_type.toLowerCase());
  }

  // Nacional/Internacional (apenas se for um único valor)
  if (filters.national_international && filters.national_international !== '') {
    var nationalInt = filters.national_international.split(',');
    if (nationalInt.length === 1) {
      var value = nationalInt[0].trim();
      segments.push(friendlyMappings.national_international[value] || '');
    }
  }

  // Tamanho (múltiplos valores)
  if (filters.size && filters.size !== '') {
    var sizes = filters.size.split(',');
    segments.push('tamanho-' + sizes.map(function (s) {
      return s.toLowerCase();
    }).join('-'));
  }

  // Preço máximo
  if (filters.price_max && filters.price_max !== '' && filters.price_max !== '500') {
    segments.push('ate-' + parseInt(filters.price_max));
  }

  // Ordenação (último segmento, padrão: mais-vendidos)
  var sort = filters.sort || 'most_sold';
  if (sort !== 'most_sold') {
    segments.push(friendlyMappings.sort[sort] || 'mais-vendidos');
  }

  // Construir URL
  var url = basePath;
  if (segments.length > 0) {
    url += '/' + segments.join('/');
  }

  // Adicionar página se for diferente de 1
  if (filters.page && parseInt(filters.page) > 1) {
    url += '/pagina-' + parseInt(filters.page);
  }
  return url;
}
function extractCheckboxFilters(container) {
  var filters = {};
  if (!container) {
    return filters;
  }
  var checkboxes = container.querySelectorAll('input[type="checkbox"][data-filter-group]');
  var grouped = {};
  checkboxes.forEach(function (checkbox) {
    var group = checkbox.dataset.filterGroup;
    if (!group) {
      return;
    }
    if (!grouped[group]) {
      grouped[group] = [];
    }
    grouped[group].push(checkbox);
  });
  Object.entries(grouped).forEach(function (_ref) {
    var _ref2 = _slicedToArray(_ref, 2),
      group = _ref2[0],
      items = _ref2[1];
    var checkedValues = items.filter(function (checkbox) {
      return checkbox.checked;
    }).map(function (checkbox) {
      return checkbox.value;
    });
    if (checkedValues.length > 0) {
      var uniqueValues = Array.from(new Set(checkedValues));
      filters[group] = uniqueValues.join(',');
    }
  });
  return filters;
}
function isSliderActive(slider) {
  var _slider$value, _ref3, _slider$dataset$defau;
  if (!slider) {
    return false;
  }
  var currentValue = (_slider$value = slider.value) !== null && _slider$value !== void 0 ? _slider$value : '';
  var defaultValue = (_ref3 = (_slider$dataset$defau = slider.dataset["default"]) !== null && _slider$dataset$defau !== void 0 ? _slider$dataset$defau : slider.getAttribute('max')) !== null && _ref3 !== void 0 ? _ref3 : '';
  if (currentValue === '') {
    return false;
  }
  return currentValue !== defaultValue;
}
function collectActiveFilters(_ref4) {
  var container = _ref4.container,
    sliderId = _ref4.sliderId,
    _ref4$dropdowns = _ref4.dropdowns,
    dropdowns = _ref4$dropdowns === void 0 ? [] : _ref4$dropdowns;
  var activeSet = new Set();
  if (container) {
    container.querySelectorAll('input[type="checkbox"][data-filter-group]:checked').forEach(function (checkbox) {
      var _checkbox$dataset$fil;
      var group = checkbox.dataset.filterGroup;
      var value = (_checkbox$dataset$fil = checkbox.dataset.filterValue) !== null && _checkbox$dataset$fil !== void 0 ? _checkbox$dataset$fil : checkbox.value;
      if (group && value !== undefined) {
        activeSet.add("".concat(group, ":").concat(value));
      }
    });
  }
  if (sliderId) {
    var slider = document.getElementById(sliderId);
    if (slider && isSliderActive(slider)) {
      activeSet.add("".concat(sliderId, ":value"));
    }
  }
  dropdowns.forEach(function (_ref5) {
    var _element$dataset$data;
    var id = _ref5.id,
      datasetKey = _ref5.datasetKey,
      _ref5$defaultValue = _ref5.defaultValue,
      defaultValue = _ref5$defaultValue === void 0 ? '' : _ref5$defaultValue,
      key = _ref5.key;
    var element = document.getElementById(id);
    if (!element) {
      return;
    }
    var value = (_element$dataset$data = element.dataset[datasetKey]) !== null && _element$dataset$data !== void 0 ? _element$dataset$data : '';
    if (value && value !== defaultValue) {
      activeSet.add("".concat(key, ":").concat(value));
    }
  });
  return activeSet;
}
function syncLinkedCheckboxes(changedCheckbox) {
  var _changedCheckbox$data;
  if (!changedCheckbox || !changedCheckbox.dataset) {
    return;
  }
  var group = changedCheckbox.dataset.filterGroup;
  var value = (_changedCheckbox$data = changedCheckbox.dataset.filterValue) !== null && _changedCheckbox$data !== void 0 ? _changedCheckbox$data : changedCheckbox.value;
  if (!group || value === undefined) {
    return;
  }
  document.querySelectorAll("input[type=\"checkbox\"][data-filter-group=\"".concat(group, "\"]")).forEach(function (checkbox) {
    var _checkbox$dataset$fil2;
    if (checkbox === changedCheckbox) {
      return;
    }
    var checkboxValue = (_checkbox$dataset$fil2 = checkbox.dataset.filterValue) !== null && _checkbox$dataset$fil2 !== void 0 ? _checkbox$dataset$fil2 : checkbox.value;
    if (checkboxValue === value) {
      checkbox.checked = changedCheckbox.checked;
    }
  });
}
function dataAttributeToDatasetKey(dataAttribute) {
  return dataAttribute.replace(/^data-/, '').split('-').map(function (part, index) {
    return index === 0 ? part : part.charAt(0).toUpperCase() + part.slice(1);
  }).join('');
}

// Função para obter todos os filtros do formulário
function getFiltersFromForm() {
  var filters = extractCheckboxFilters(document.querySelector('.filter'));
  var priceSlider = document.getElementById('priceSlider');
  if (priceSlider && isSliderActive(priceSlider)) {
    filters.price_max = priceSlider.value;
  }
  var sortSelect = document.getElementById('sortSelectOrdenar');
  if (sortSelect) {
    var _sortSelect$dataset$s;
    var sortValue = (_sortSelect$dataset$s = sortSelect.dataset.sort) !== null && _sortSelect$dataset$s !== void 0 ? _sortSelect$dataset$s : 'most_sold';
    if (sortValue && sortValue !== 'most_sold') {
      filters.sort = sortValue;
    }
  }
  var teamSelect = document.getElementById('sortSelectTime');
  if (teamSelect) {
    var _teamSelect$dataset$t;
    var teamValue = (_teamSelect$dataset$t = teamSelect.dataset.team) !== null && _teamSelect$dataset$t !== void 0 ? _teamSelect$dataset$t : '';
    if (teamValue) {
      filters.team = teamValue;
    }
  }
  var seasonSelect = document.getElementById('sortSelectTemporada');
  if (seasonSelect) {
    var _seasonSelect$dataset;
    var seasonValue = (_seasonSelect$dataset = seasonSelect.dataset.season) !== null && _seasonSelect$dataset !== void 0 ? _seasonSelect$dataset : '';
    if (seasonValue) {
      filters.season = seasonValue;
    }
  }
  var productTypeSelect = document.getElementById('sortSelectTipo');
  if (productTypeSelect) {
    var _productTypeSelect$da;
    var productTypeValue = (_productTypeSelect$da = productTypeSelect.dataset.productType) !== null && _productTypeSelect$da !== void 0 ? _productTypeSelect$da : '';
    if (productTypeValue) {
      filters.product_type = productTypeValue;
    }
  }
  return filters;
}

// Função para aplicar filtros com URLs amigáveis
function applyFilters() {
  var currentUrl = new URL(window.location);
  var filters = getFiltersFromForm();

  // BasePath sempre será /camisas
  var basePath = '/camisas';

  // Gerar URL amigável
  var friendlyUrl = filtersToFriendlyUrl(filters, basePath);

  // Redirecionar com a URL amigável
  window.location.href = friendlyUrl;
}

// Adiciona listeners para todas as dropdowns
function setupDropdown(dropdownId, buttonId, dataAttribute) {
  var links = document.querySelectorAll("#".concat(dropdownId, " a"));
  links.forEach(function (link) {
    link.addEventListener("click", function (e) {
      e.preventDefault();
      var selectedText = this.textContent;
      var selectedValue = this.getAttribute(dataAttribute);
      var button = document.getElementById(buttonId);
      button.childNodes[0].nodeValue = selectedText + " ";
      var datasetKey = dataAttributeToDatasetKey(dataAttribute);
      button.dataset[datasetKey] = selectedValue;
      document.getElementById(dropdownId).style.display = "none";
      updateActiveFilterIndicators();
      updateMobileFilterCount();
      applyFilters();
    });
  });
}

// Função para extrair filtros da URL amigável (simplificada para indicadores)
function getFiltersFromUrl() {
  var currentUrl = new URL(window.location);
  var pathSegments = currentUrl.pathname.split('/').filter(function (s) {
    return s && s !== 'camisas';
  });
  var filters = {};

  // Processar segmentos básicos (simplificado para indicadores)
  pathSegments.forEach(function (segment) {
    if (segment.startsWith('pagina-')) return; // Ignorar página
    if (segment.startsWith('ate-')) {
      filters.price_max = segment.replace('ate-', '');
    } else if (segment.startsWith('tamanho-')) {
      filters.size = segment.replace('tamanho-', '');
    } else if (/^\d{2}-\d{2}$/.test(segment)) {
      filters.season = segment.replace('-', '/');
    }
  });
  return filters;
}

// Função para atualizar indicadores visuais de filtros ativos
function updateActiveFilterIndicators() {
  var filterContainer = document.querySelector('.filter');
  var activeSet = collectActiveFilters({
    container: filterContainer,
    sliderId: 'priceSlider',
    dropdowns: [{
      id: 'sortSelectOrdenar',
      datasetKey: 'sort',
      defaultValue: 'most_sold',
      key: 'sort'
    }, {
      id: 'sortSelectTime',
      datasetKey: 'team',
      defaultValue: '',
      key: 'team'
    }, {
      id: 'sortSelectTemporada',
      datasetKey: 'season',
      defaultValue: '',
      key: 'season'
    }, {
      id: 'sortSelectTipo',
      datasetKey: 'productType',
      defaultValue: '',
      key: 'product_type'
    }]
  });
  var activeCount = activeSet.size;
  document.querySelectorAll('.filter-group.checkbox').forEach(function (group) {
    var hasChecked = group.querySelector('input[type="checkbox"][data-filter-group]:checked');
    group.classList.toggle('has-active-filters', !!hasChecked);
  });
  var priceSlider = document.getElementById('priceSlider');
  if (priceSlider) {
    var sliderWrapper = priceSlider.parentElement;
    if (sliderWrapper) {
      sliderWrapper.classList.toggle('has-active-filters', isSliderActive(priceSlider));
    }
  }
  ['sortSelectOrdenar', 'sortSelectTime', 'sortSelectTemporada', 'sortSelectTipo'].forEach(function (id) {
    var _element$dataset$key;
    var element = document.getElementById(id);
    if (!element) {
      return;
    }
    var datasetKeys = {
      sortSelectOrdenar: {
        key: 'sort',
        defaultValue: 'most_sold'
      },
      sortSelectTime: {
        key: 'team',
        defaultValue: ''
      },
      sortSelectTemporada: {
        key: 'season',
        defaultValue: ''
      },
      sortSelectTipo: {
        key: 'productType',
        defaultValue: ''
      }
    };
    var _datasetKeys$id = datasetKeys[id],
      key = _datasetKeys$id.key,
      defaultValue = _datasetKeys$id.defaultValue;
    var value = (_element$dataset$key = element.dataset[key]) !== null && _element$dataset$key !== void 0 ? _element$dataset$key : '';
    element.classList.toggle('active', !!value && value !== defaultValue);
  });
  var clearFiltersBtn = document.getElementById('clearFilters');
  if (clearFiltersBtn) {
    var isActive = activeCount > 0;
    clearFiltersBtn.disabled = !isActive;
    clearFiltersBtn.classList.toggle('is-active', isActive);
  }
  updateMobileFilterCount();
}

// Função para configurar o slider de preço
function setupPriceSlider() {
  var slider = document.querySelector(".price-slider");
  var priceRange = document.getElementById("priceRange");
  if (!slider || !priceRange) return;
  function updateSliderTrack() {
    var min = parseInt(slider.min);
    var max = parseInt(slider.max);
    var value = parseInt(slider.value);
    var percentage = (value - min) / (max - min) * 100;
    slider.style.background = "linear-gradient(to right, #ff6600 ".concat(percentage, "%, #ddd ").concat(percentage, "%)");
    priceRange.textContent = "R$ 50 - R$ ".concat(value);
    updateActiveFilterIndicators();
  }
  slider.addEventListener("input", updateSliderTrack);

  // Aplicar filtro após o usuário parar de arrastar o slider
  var timeout;
  slider.addEventListener("change", function () {
    clearTimeout(timeout);
    timeout = setTimeout(applyFilters, 500);
  });

  // Atualizar ao carregar a página
  updateSliderTrack();
}

// ===========================================
// MOBILE FUNCTIONALITY
// ===========================================

// Mobile filter sidebar functions
function openMobileFilter() {
  var overlay = document.getElementById('mobileFilterOverlay');
  var sidebar = document.getElementById('mobileFilterSidebar');
  if (overlay && sidebar) {
    overlay.style.display = 'block';
    sidebar.classList.add('active');
    overlay.classList.add('active');
    document.body.style.overflow = 'hidden';
  }
}
function closeMobileFilter() {
  var overlay = document.getElementById('mobileFilterOverlay');
  var sidebar = document.getElementById('mobileFilterSidebar');
  if (overlay && sidebar) {
    overlay.classList.remove('active');
    sidebar.classList.remove('active');
    setTimeout(function () {
      overlay.style.display = 'none';
    }, 300);
    document.body.style.overflow = '';
  }
}

// Mobile sort dropdown functions
function toggleMobileSortDropdown() {
  var dropdown = document.getElementById('mobileSortDropdown');
  if (dropdown) {
    dropdown.classList.toggle('active');
  }
}
function closeMobileSortDropdown() {
  var dropdown = document.getElementById('mobileSortDropdown');
  if (dropdown) {
    dropdown.classList.remove('active');
  }
}

// Mobile filter count update
function updateMobileFilterCount() {
  var countElement = document.getElementById('mobileFilterCount');
  if (!countElement) return;
  var desktopSet = collectActiveFilters({
    container: document.querySelector('.filter'),
    sliderId: 'priceSlider',
    dropdowns: [{
      id: 'sortSelectOrdenar',
      datasetKey: 'sort',
      defaultValue: 'most_sold',
      key: 'sort'
    }, {
      id: 'sortSelectTime',
      datasetKey: 'team',
      defaultValue: '',
      key: 'team'
    }, {
      id: 'sortSelectTemporada',
      datasetKey: 'season',
      defaultValue: '',
      key: 'season'
    }, {
      id: 'sortSelectTipo',
      datasetKey: 'productType',
      defaultValue: '',
      key: 'product_type'
    }]
  });
  var mobileSet = collectActiveFilters({
    container: document.getElementById('mobileFilterSidebar'),
    sliderId: 'mobilePriceSlider',
    dropdowns: [{
      id: 'mobileSortSelectOrdenar',
      datasetKey: 'sort',
      defaultValue: 'most_sold',
      key: 'sort'
    }, {
      id: 'mobileSortSelectTime',
      datasetKey: 'team',
      defaultValue: '',
      key: 'team'
    }, {
      id: 'mobileSortSelectTemporada',
      datasetKey: 'season',
      defaultValue: '',
      key: 'season'
    }, {
      id: 'mobileSortSelectTipo',
      datasetKey: 'productType',
      defaultValue: '',
      key: 'product_type'
    }]
  });
  var combinedSet = new Set([].concat(_toConsumableArray(desktopSet), _toConsumableArray(mobileSet)));
  var activeCount = combinedSet.size;
  countElement.textContent = activeCount;
  countElement.style.display = activeCount > 0 ? 'inline-block' : 'none';
}

// Função para obter filtros do formulário mobile
function getMobileFiltersFromForm() {
  var mobileContainer = document.getElementById('mobileFilterSidebar');
  var filters = extractCheckboxFilters(mobileContainer);
  var mobilePriceSlider = document.getElementById('mobilePriceSlider');
  if (mobilePriceSlider && isSliderActive(mobilePriceSlider)) {
    filters.price_max = mobilePriceSlider.value;
  }
  var mobileDropdowns = [{
    id: 'mobileSortSelectOrdenar',
    param: 'sort',
    datasetKey: 'sort',
    defaultValue: 'most_sold'
  }, {
    id: 'mobileSortSelectTime',
    param: 'team',
    datasetKey: 'team',
    defaultValue: ''
  }, {
    id: 'mobileSortSelectTemporada',
    param: 'season',
    datasetKey: 'season',
    defaultValue: ''
  }, {
    id: 'mobileSortSelectTipo',
    param: 'product_type',
    datasetKey: 'productType',
    defaultValue: ''
  }];
  mobileDropdowns.forEach(function (_ref6) {
    var _element$dataset$data2;
    var id = _ref6.id,
      param = _ref6.param,
      datasetKey = _ref6.datasetKey,
      defaultValue = _ref6.defaultValue;
    var element = document.getElementById(id);
    if (!element) {
      return;
    }
    var value = (_element$dataset$data2 = element.dataset[datasetKey]) !== null && _element$dataset$data2 !== void 0 ? _element$dataset$data2 : '';
    if (value && value !== defaultValue) {
      filters[param] = value;
    }
  });
  return filters;
}

// Mobile filter application
function applyMobileFilters() {
  var currentUrl = new URL(window.location);
  var filters = getMobileFiltersFromForm();

  // BasePath sempre será /camisas
  var basePath = '/camisas';

  // Gerar URL amigável
  var friendlyUrl = filtersToFriendlyUrl(filters, basePath);

  // Redirect with new filters
  window.location.href = friendlyUrl;
}

// Mobile sort application
function applyMobileSort(sortValue) {
  var currentUrl = new URL(window.location);

  // Obter filtros atuais da URL (se houver)
  var currentFilters = {};
  var basePath = '/camisas';

  // Processar segmentos da URL atual para manter outros filtros
  var pathSegments = currentUrl.pathname.split('/').filter(function (s) {
    return s;
  });
  // Aqui poderia processar os segmentos, mas por simplicidade vamos apenas aplicar o sort

  if (sortValue && sortValue !== 'most_sold') {
    currentFilters.sort = sortValue;
  }
  var friendlyUrl = filtersToFriendlyUrl(currentFilters, basePath);
  window.location.href = friendlyUrl;
}

// Mobile price slider setup
function setupMobilePriceSlider() {
  var slider = document.getElementById('mobilePriceSlider');
  var priceRange = document.getElementById('mobilePriceRange');
  if (!slider || !priceRange) return;
  function updateMobileSliderTrack() {
    var min = parseInt(slider.min);
    var max = parseInt(slider.max);
    var value = parseInt(slider.value);
    var percentage = (value - min) / (max - min) * 100;
    slider.style.background = "linear-gradient(to right, #ff6600 ".concat(percentage, "%, #ddd ").concat(percentage, "%)");
    priceRange.textContent = "R$ 50 - R$ ".concat(value);
    updateMobileFilterCount();
  }
  slider.addEventListener("input", updateMobileSliderTrack);
  updateMobileSliderTrack();
}

// Setup mobile dropdowns
function setupMobileDropdown(dropdownId, buttonId, dataAttribute) {
  var links = document.querySelectorAll("#".concat(dropdownId, " a"));
  links.forEach(function (link) {
    link.addEventListener("click", function (e) {
      e.preventDefault();
      var selectedText = this.textContent;
      var selectedValue = this.getAttribute(dataAttribute);
      var button = document.getElementById(buttonId);
      if (button) {
        button.childNodes[0].nodeValue = selectedText + " ";
        var datasetKey = dataAttributeToDatasetKey(dataAttribute);
        button.dataset[datasetKey] = selectedValue;
      }
      document.getElementById(dropdownId).style.display = "none";
      updateMobileFilterCount();
    });
  });
}

// ===========================================
// INITIALIZATION
// ===========================================

// Inicialização quando o DOM estiver carregado
document.addEventListener('DOMContentLoaded', function () {
  // Configurar dropdowns desktop
  setupDropdown("dropdownMenu", "sortSelectOrdenar", "data-sort");
  setupDropdown("dropdownTemporada", "sortSelectTemporada", "data-season");
  setupDropdown("dropdownTime", "sortSelectTime", "data-team");
  setupDropdown("dropdownTipo", "sortSelectTipo", "data-product-type");

  // Configurar dropdowns mobile
  setupMobileDropdown("mobileDropdownMenu", "mobileSortSelectOrdenar", "data-sort");
  setupMobileDropdown("mobileDropdownTemporada", "mobileSortSelectTemporada", "data-season");
  setupMobileDropdown("mobileDropdownTime", "mobileSortSelectTime", "data-team");
  setupMobileDropdown("mobileDropdownTipo", "mobileSortSelectTipo", "data-product-type");

  // Adicionar listeners para checkboxes desktop
  document.querySelectorAll('.filter input[type="checkbox"][data-filter-group]').forEach(function (checkbox) {
    checkbox.addEventListener('change', function () {
      syncLinkedCheckboxes(this);
      updateActiveFilterIndicators();
      updateMobileFilterCount();
      applyFilters();
    });
  });

  // Adicionar listeners para checkboxes mobile
  document.querySelectorAll('#mobileFilterSidebar input[type="checkbox"][data-filter-group]').forEach(function (checkbox) {
    checkbox.addEventListener('change', function () {
      syncLinkedCheckboxes(this);
      updateMobileFilterCount();
    });
  });

  // Configurar fechamento de dropdowns ao clicar fora
  document.addEventListener("click", function (event) {
    var allDropdowns = ["dropdownMenu", "dropdownTemporada", "dropdownTime", "dropdownTipo"];
    var allButtons = ["sortSelectOrdenar", "sortSelectTemporada", "sortSelectTime", "sortSelectTipo"];
    allDropdowns.forEach(function (id, index) {
      var dropdown = document.getElementById(id);
      var button = document.getElementById(allButtons[index]);
      if (dropdown && button && !button.contains(event.target) && !dropdown.contains(event.target)) {
        dropdown.style.display = "none";
      }
    });

    // Close mobile sort dropdown
    if (!event.target.closest('.mobile-sort-bar')) {
      closeMobileSortDropdown();
    }
  });

  // Atualizar indicadores visuais
  updateActiveFilterIndicators();
  updateMobileFilterCount();

  // Inicializar o valor do time no dropdown se houver um filtro ativo na URL
  var urlFilters = getFiltersFromUrl();
  if (urlFilters.team) {
    var teamSelect = document.getElementById('sortSelectTime');
    var mobileTeamSelect = document.getElementById('mobileSortSelectTime');
    if (teamSelect) {
      teamSelect.dataset.team = urlFilters.team;
    }
    if (mobileTeamSelect) {
      mobileTeamSelect.dataset.team = urlFilters.team;
    }
  }

  // Adicionar listener para o botão de limpar filtros desktop
  var clearFiltersBtn = document.getElementById('clearFilters');
  if (clearFiltersBtn) {
    clearFiltersBtn.addEventListener('click', function () {
      window.location.href = '/camisas';
    });
  }

  // Configurar slider de preço desktop
  setupPriceSlider();

  // Configurar slider de preço mobile
  setupMobilePriceSlider();

  // ===========================================
  // MOBILE EVENT LISTENERS
  // ===========================================

  // Mobile filter toggle
  var mobileFilterToggle = document.getElementById('mobileFilterToggle');
  if (mobileFilterToggle) {
    mobileFilterToggle.addEventListener('click', openMobileFilter);
  }

  // Mobile filter close
  var closeMobileFilterBtn = document.getElementById('closeMobileFilter');
  var mobileFilterOverlay = document.getElementById('mobileFilterOverlay');
  if (closeMobileFilterBtn) {
    closeMobileFilterBtn.addEventListener('click', closeMobileFilter);
  }
  if (mobileFilterOverlay) {
    mobileFilterOverlay.addEventListener('click', closeMobileFilter);
  }

  // Mobile filter actions
  var mobileClearFiltersBtn = document.getElementById('mobileClearFilters');
  var mobileApplyFiltersBtn = document.getElementById('mobileApplyFilters');
  if (mobileClearFiltersBtn) {
    mobileClearFiltersBtn.addEventListener('click', function () {
      window.location.href = '/camisas';
    });
  }
  if (mobileApplyFiltersBtn) {
    mobileApplyFiltersBtn.addEventListener('click', applyMobileFilters);
  }

  // Mobile sort toggle
  var mobileSortToggle = document.getElementById('mobileSortToggle');
  if (mobileSortToggle) {
    mobileSortToggle.addEventListener('click', function (e) {
      e.stopPropagation();
      toggleMobileSortDropdown();
    });
  }

  // Mobile sort options
  var mobileSortOptions = document.querySelectorAll('.mobile-sort-dropdown .sort-option');
  mobileSortOptions.forEach(function (option) {
    option.addEventListener('click', function (e) {
      e.preventDefault();
      var sortValue = this.getAttribute('data-sort');
      applyMobileSort(sortValue);
    });
  });

  // Close mobile filter on escape key
  document.addEventListener('keydown', function (e) {
    if (e.key === 'Escape') {
      closeMobileFilter();
      closeMobileSortDropdown();
    }
  });
});
/******/ })()
;